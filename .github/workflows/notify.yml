name: Deployment Notifications

on:
  workflow_run:
    workflows: ["Deploy Flutter Web to GitHub Pages"]
    types:
      - completed

jobs:
  notify:
    name: Notify Deployment Status
    runs-on: ubuntu-latest
    if: github.event.workflow_run.conclusion != 'skipped'
    steps:
    - name: Deployment Success
      if: github.event.workflow_run.conclusion == 'success'
      run: |
        echo "âœ… Deployment successful!"
        echo "ğŸŒ Calendario Familiar is now live at: https://dowhi.github.io/calendario-familiar/"
        echo "ğŸ“… Latest commit: ${{ github.event.workflow_run.head_commit.message }}"
        
    - name: Deployment Failed
      if: github.event.workflow_run.conclusion == 'failure'
      run: |
        echo "âŒ Deployment failed!"
        echo "ğŸ” Check the logs for more details"
        echo "ğŸ“… Failed commit: ${{ github.event.workflow_run.head_commit.message }}"
        
    - name: Deployment Cancelled
      if: github.event.workflow_run.conclusion == 'cancelled'
      run: |
        echo "â¹ï¸ Deployment cancelled"
        echo "ğŸ“… Cancelled commit: ${{ github.event.workflow_run.head_commit.message }}"
